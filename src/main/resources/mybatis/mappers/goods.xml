<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="mapper.goods">
	<resultMap type="goodsVO" id="goodsResult">

		<result property="goods_id" column="goods_id" />
		<result property="goods_type" column="goods_type" />
		<result property="goods_name" column="goods_name" />
		<result property="goods_brand" column="goods_brand" />
		<result property="goods_price" column="goods_price" />
		<result property="sell_price" column="sell_price" />
		<result property="stock" column="stock" />
		<result property="delivery_charge" column="delivery_charge" />
		<result property="goods_description" column="goods_description" />
		<result property="goods_status" column="goods_status" />
		<result property="goods_keyword" column="goods_keyword" />

	</resultMap>


	<select id="selectGoodsDetail" parameterType="String"
		resultMap="goodsResult">
	<![CDATA[
	select cat.* 
	from(
	select g.* 
	from cat_goods_tbl g where g.goods_id
	ORDER BY g.goods_description DESC)
	]]>
	</select>


	<select id="selectGoodsList" parameterType="String"
		resultMap="goodsResult">
        <![CDATA[
         select cat.*
          from(
			select g.*,
			from cat_goods_tbl g
        	where 
        	goods_status=#{goodsStatus}
            order by g.goods_creDate desc)  t
	             where   rowNum <16
	    ]]>
	</select>

<select id="selectKeywordSearch" parameterType="String"
resultMap="goodsResult">
	    <![CDATA[
    	select goods_keyword
    	from cat_goods_tbl
    	where
    	goods_keyword like '%'|| #{keyword} || '%'
    	]]>


</select>


</mapper>